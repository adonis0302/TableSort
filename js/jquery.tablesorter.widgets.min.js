/* TableSorter 2.0 Widgets */
(function(b){
b.tablesorter.addWidget({id:"uitheme",format:function(e){var c,f,g,d=e.config,a=["ui-icon-arrowthick-2-n-s","ui-icon-arrowthick-1-s","ui-icon-arrowthick-1-n"];d.widgetUitheme&&d.widgetUitheme.hasOwnProperty("css")&&(a=d.widgetUitheme.css||a);g=a.join(" ");d.debug&&(c=new Date);b(e).is(".ui-theme")||(b(e).addClass("ui-widget ui-widget-content ui-corner-all ui-theme"),b.each(d.headerList,function(){b(this).addClass("ui-widget-header ui-corner-all").append('<span class="ui-icon"/>').hover(function(){b(this).addClass("ui-state-hover")}, function(){b(this).removeClass("ui-state-hover")})}));b.each(d.headerList,function(c){d.headers[c]&&d.headers[c].sorter===false?b(this).find("span.ui-icon").removeClass(g+" ui-icon"):(f=b(this).is("."+d.cssAsc)?a[1]:b(this).is("."+d.cssDesc)?a[2]:b(this).is("."+d.cssHeader)?a[0]:"",b(this)[f===a[0]?"removeClass":"addClass"]("ui-state-active").find("span.ui-icon").removeClass(g).addClass(f))});d.debug&&b.tablesorter.benchmark("Applying uitheme widget",c)}});
b.tablesorter.addWidget({id:"columns",format:function(e){var c, f,g,d,a=e.config,i=a.sortList,j=i.length,h=["primary","secondary","tertiary"];a.widgetColumns&&a.widgetColumns.hasOwnProperty("css")&&(h=a.widgetColumns.css||h);g=h.length-1;d=h.join(" ");a.debug&&(f=new Date);i&&i[0]&&b("tr:visible",e.tBodies[0]).each(function(a){c=b(this).children().removeClass(d);c.eq(i[0][0]).addClass(h[0]);if(j>1)for(a=1;a<j;a++)c.eq(i[a][0]).addClass(h[a]||h[g])});a.debug&&b.tablesorter.benchmark("Applying Columns widget",f)}});
b.tablesorter.addWidget({id:"filter",format:function(e){if(!e.config.filtering){var c, f,g,d,a=e.config,i=a.headerList.length,j=b(e),e='<tr class="filters">',h;a.debug&&(h=new Date);for(c=0;c<i;c++)e+='<td><input type="text" class="filter" data-col="'+c+'" style="',e+=a.headers[c]&&"filter"in a.headers[c]&&a.headers[c].filter===false||b(a.headerList[c]).is(".filter-false")?"visibility:hidden":"",e+='"></td>';j.find("thead").append(e+="</tr>").find(".filter").bind("keyup",function(){f=j.find(".filter").map(function(){return(b(this).val()||"").toLowerCase()}).get();f.join("")===""?j.find("tr").show(): j.find("tbody").find("tr").each(function(){g=true;d=b(this).find("td");for(c=0;c<i;c++)f[c]!==""&&d.eq(c).text().toLowerCase().indexOf(f[c])>=0?g=g?true:false:f[c]!==""&&(g=false);b(this)[g?"show":"hide"]()});j.trigger("applyWidgets")});a.filtering=true;a.debug&&b.tablesorter.benchmark("Applying Filter widget",h)}}});
b.tablesorter.addWidget({id:"stickyHeaders",format:function(e){if(!b(e).find(".stickyHeader").length){var c=b(window),f=b(e).find("thead"),g=f.find("tr").children(),d=f.find("tr").clone().addClass("stickyHeader").css({width:f.width(), position:"fixed",top:0,visibility:"hidden"}),a=d.children();b(e).bind("sortEnd",function(a,c){var d=b(c).find("thead tr"),e=d.filter(".stickyHeader").children();d.filter(":not(.stickyHeader)").children().each(function(a){e.eq(a).attr("class",b(this).attr("class"))})});g.each(function(c){var d=b(this);a.eq(c).width(d.width()).bind("click",function(b){d.trigger(b)}).bind("mousedown",function(){this.onselectstart=function(){return false};return false})});f.prepend(d);c.scroll(function(){var a=b(e),d= a.offset(),f=c.scrollTop(),g=a.find(".stickyHeader"),a=f>d.top&&f<d.top+a.height()?"visible":"hidden";g.css("visibility",a)})}}})
})(jQuery);